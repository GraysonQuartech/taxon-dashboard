/** @format */

import * as React from "react";
import Box from "@mui/material/Box";
import { GridColDef } from "@mui/x-data-grid";
import { DataGridPro, DataGridProProps, useGridApiContext } from "@mui/x-data-grid-pro";
import { IqualitativeData, IqualitativeOptionData } from "../utils/datagrab";

/*
 *Generic props. table rows and columns
 */
export interface MyDataGridProps<T> {
  rows: T[];
  columns: GridColDef[];
  subColumns: GridColDef[];
  subDataSet: IqualitativeOptionData[];
}

const DetailPanelContent = <T extends IqualitativeData>(props: MyDataGridProps<T>) => {
  return (
    <DataGridPro
      density="compact"
      autoHeight
      columns={props.subColumns}
      rows={props.subDataSet}
      sx={{ flex: 1 }}
      hideFooter
    />
  );
};

const tableGrid = <T extends IqualitativeData>(props: MyDataGridProps<T>) => {
  return (
    <Box sx={{ width: 1, height: 400 }}>
      <DataGridPro
        columns={props.columns}
        rows={props.rows}
        rowThreshold={0}
        getDetailPanelContent={DetailPanelContent}
      />
    </Box>
  );
};
